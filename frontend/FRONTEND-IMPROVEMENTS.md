# Улучшения Frontend

## Обзор изменений

Создан современный, отзывчивый дизайн для страниц категорий с расширенными фильтрами и улучшенным UX.

## Новые компоненты

### 1. `CategorySidebar.tsx`
Расширенный sidebar с фильтрами:
- **Подкатегории** - фильтрация по подкатегориям
- **Категории** - фильтрация по категориям
- **Бренды** - фильтрация по брендам с логотипами
- **Цена** - диапазон цен (от/до)
- **Сортировка** - по названию, цене, популярности, новизне
- **Дополнительные фильтры** - только в наличии
- **Адаптивность** - мобильное меню с overlay
- **Сворачиваемые секции** - для удобной навигации

### 2. Улучшенная страница категорий `[slug].tsx`
- **Hero секция** - красивый заголовок с градиентом
- **Адаптивный layout** - sidebar слева, товары справа
- **Режимы просмотра** - сетка и список
- **Фильтры в реальном времени** - обновление товаров при изменении фильтров
- **Пагинация** - улучшенный компонент пагинации
- **Состояния загрузки** - индикаторы загрузки
- **Пустые состояния** - красивое отображение при отсутствии товаров

### 3. Улучшенный `ProductCard.tsx`
- **Два режима отображения**:
  - Grid (сетка) - компактные карточки
  - List (список) - расширенные карточки с описанием
- **Улучшенные hover эффекты** - плавные переходы
- **Иконка корзины** - появляется при наведении
- **Рейтинг** - отображение звездного рейтинга
- **Бейджи** - для популярных товаров

### 4. Улучшенный `Pagination.tsx`
- **Кнопки навигации** - Назад/Вперед
- **Номера страниц** - с многоточием для больших списков
- **Callback поддержка** - для программного изменения страниц
- **Адаптивный дизайн** - работает на всех устройствах

## Особенности дизайна

### Цветовая схема
- Основной цвет: Violet (фиолетовый) - `violet-600`, `violet-700`
- Акценты: Pink для бейджей, Amber для рейтинга
- Градиенты для категорий:
  - Медикаменты: green → emerald
  - БАДы: amber → yellow
  - Одежда: rose → pink
  - Обувь: blue → indigo
  - Электроника: slate → gray
  - Посуда: orange → red
  - Мебель: amber-800 → orange-700
  - Медицинский инвентарь: teal → cyan

### Адаптивность
- **Mobile First** - дизайн сначала для мобильных
- **Breakpoints**:
  - `sm`: 640px
  - `md`: 768px
  - `lg`: 1024px
- **Sidebar** - скрывается на мобильных, открывается по кнопке
- **Grid** - адаптируется от 1 до 3 колонок

### Анимации и переходы
- Плавные hover эффекты
- Transition для всех интерактивных элементов
- Loading states с spinner
- Smooth scroll при пагинации

## Структура данных

### FilterState
```typescript
interface FilterState {
  categories: number[]
  brands: number[]
  subcategories: number[]
  priceMin?: number
  priceMax?: number
  inStock: boolean
  sortBy: string
  colors?: string[]
  sizes?: string[]
}
```

## API интеграция

Страница категорий автоматически загружает товары с учетом:
- Выбранных фильтров
- Текущей страницы
- Типа категории (medicines, clothing, shoes, etc.)

## Следующие шаги для Backend

Для полной поддержки фильтров нужно добавить в API:

1. **Фильтрация по категориям/брендам**:
   - `category_id` - массив ID категорий
   - `brand_id` - массив ID брендов
   - `subcategory_id` - массив ID подкатегорий

2. **Фильтрация по цене**:
   - `price_min` - минимальная цена
   - `price_max` - максимальная цена

3. **Сортировка**:
   - `ordering` - поле для сортировки (name, price, created_at, popularity)

4. **Дополнительные фильтры**:
   - `in_stock` - только товары в наличии
   - `colors` - фильтр по цветам
   - `sizes` - фильтр по размерам

5. **Подкатегории**:
   - Эндпоинт для получения подкатегорий категории
   - Поддержка иерархии категорий

6. **Счетчики товаров**:
   - `product_count` для категорий и брендов
   - Для отображения количества товаров в фильтрах

## Использование

### Страница категории
```tsx
// Автоматически использует новый дизайн
// URL: /categories/medicines
// URL: /categories/clothing
// и т.д.
```

### Компонент Sidebar
```tsx
<CategorySidebar
  categories={categories}
  brands={brands}
  subcategories={subcategories}
  onFilterChange={(filters) => {
    // Обработка изменения фильтров
  }}
  isOpen={sidebarOpen}
  onToggle={() => setSidebarOpen(!sidebarOpen)}
/>
```

### ProductCard с режимом списка
```tsx
<ProductCard
  {...productProps}
  viewMode="list" // или "grid"
  description={product.description}
/>
```

## Улучшения UX

1. **Мгновенная обратная связь** - фильтры применяются сразу
2. **Визуальная индикация** - активные фильтры выделены
3. **Сброс фильтров** - кнопка для быстрого сброса
4. **Адаптивная навигация** - удобно на всех устройствах
5. **Состояния загрузки** - пользователь видит процесс
6. **Пустые состояния** - понятные сообщения при отсутствии товаров

